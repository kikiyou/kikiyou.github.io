<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="越努力越幸运">
<meta property="og:type" content="website">
<meta property="og:title" content="Monkey">
<meta property="og:url" content="http://www.rhel.cc/page/9/index.html">
<meta property="og:site_name" content="Monkey">
<meta property="og:description" content="越努力越幸运">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Monkey">
<meta name="twitter:description" content="越努力越幸运">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.rhel.cc/page/9/"/>





  <title>Monkey</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-69625009-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?1d19ec01ee75454338de4be42f062626";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>











  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Monkey</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Think! And Think Again</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'qXreyHC_EX5zr5PLMxgp','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/23/zabbix/华为交换机监控/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/23/zabbix/华为交换机监控/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-23T11:28:00+08:00">
                2017-05-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/23/zabbix/华为交换机监控/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/23/zabbix/华为交换机监控/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="华为交换机-开启snmp-并添加zabbix监控"><a href="#华为交换机-开启snmp-并添加zabbix监控" class="headerlink" title="华为交换机 开启snmp 并添加zabbix监控"></a>华为交换机 开启snmp 并添加zabbix监控</h1><p>[fonsview@ZX-OTT-ZabbixServer ~]$ telnet 10.23.xx.xx<br>Username:huawei<br>Password: [这里输入交换机密码]</p>
<p><fs-ott-s9306-1>system-view<br>Enter system view, return user view with Ctrl+Z.<br>FS-OTT-S9306-1]snmp-agent<br>FS-OTT-S9306-1]snmp-agent community read fsv_zabbix<br>FS-OTT-S9306-1]snmp-agent sys-info version all<br>FS-OTT-S9306-1]snmp-agent target-host trap address udp-domain 这里填写zabbixserver的ip  udp-port 161 params securityname fsv_zabbix<br>FS-OTT-S9306-1]snmp-agent trap type base-trap<br>FS-OTT-S9306-1]snmp-agent trap enable </fs-ott-s9306-1></p>
<p>测试,看到如下信息，说明交换机开启正常：<br>[root@ZX-OTT-ZabbixServer ~]# snmpwalk -v 2c -c fsv_zabbix 10.23.xx.xx  .1.3.6.1.2.1.1.1.0<br>SNMPv2-MIB::sysDescr.0 = STRING: Quidway S9306<br>Huawei Versatile Routing Platform Software<br>VRP (R) Software, Version 5.160 (S9300 V200R008C00SPC500)<br>Copyright (c) 2000-2015 Huawei Technologies Co., Ltd</p>
<h2 id="zabbix添加"><a href="#zabbix添加" class="headerlink" title="zabbix添加"></a>zabbix添加</h2><ol>
<li><p>导入主机模板<br>fsv_switch.xml</p>
</li>
<li><p>创建主机<br>SNMP接口 10.23.xx.xx<br>端口：161</p>
</li>
</ol>
<p>并在宏这里设置<br>{$SNMP_COMMUNITY} =&gt; fsv_zabbix</p>
<ol>
<li><p>为主机选择 fsv_switch这个模板</p>
</li>
<li><p>等在主机里面 看到snmp协议这里是绿色 就说明监控添加好了</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/23/zabbix/监控已完成清单_v0.0.1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/23/zabbix/监控已完成清单_v0.0.1/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-23T11:27:27+08:00">
                2017-05-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/23/zabbix/监控已完成清单_v0.0.1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/23/zabbix/监控已完成清单_v0.0.1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>zabbix 已添加监控  清单</p>
<h2 id="所有主机-基础监控"><a href="#所有主机-基础监控" class="headerlink" title="所有主机 基础监控"></a>所有主机 基础监控</h2><ul>
<li><p>主机运行时间<br>查看方式：  最新数据 –&gt;  General –&gt; System uptime</p>
</li>
<li><p>CPU 占用率<br>查看方式：  最新数据 –&gt;  CPU –&gt; CPU idle time<br>计算方法:<br>CPU 占用率 = 100% - %idle </p>
</li>
</ul>
<p>CPU监控的相关指标还有如下：<br>CPU user time<br>CPU system time<br>CPU steal time<br>CPU softirq time<br>CPU nice time<br>CPU iowait time<br>CPU interrupt time</p>
<ul>
<li>cpu 负载情况<br>1分钟 5分钟 15分钟 平均每核cpu负载情况 （注：小于5正常）</li>
</ul>
<p>查看方式： 最新数据 –&gt;  CPU –&gt;<br>Processor load (1 min average per core)<br>Processor load (5 min average per core)<br>Processor load (15 min average per core)    </p>
<ul>
<li>cpu 单核占用率<br>查看方式： 最新数据 –&gt;  CPU Core –&gt; CPU Core XX idle time</li>
</ul>
<p>计算方法:<br>CPU 占用率 = 100% - %idle </p>
<ul>
<li>内存占用相关参数<br>查看方式： 最新数据 –&gt;  Memory –&gt; </li>
</ul>
<p>总内存： Total memory<br>可用内存： Available memory<br>注：Available memory=free+buffers+cached</p>
<ul>
<li><p>swap相关<br>查看方式： 最新数据 –&gt;  Memory –&gt;<br>总swap大小：Total swap space<br>剩余swap占比：Free swap space in %<br>剩余swap大小：Free swap space</p>
</li>
<li><p>系统磁盘容量相关<br>查看方式： 最新数据 –&gt;  Filesystems –&gt;<br>总磁盘大小:Total disk space on /<br>已经使用磁盘大小：Used disk space on /<br>剩余磁盘大小:Free disk space on /</p>
</li>
</ul>
<p>系统磁盘剩余容量占用率：Free disk space on / (percentage)<br>系统磁盘剩余inodes占用率：Free inodes on / (percentage）</p>
<p>注：每个磁盘有个inodes数，就是可创建文件数量的限制<br>可以使用df -i查看</p>
<ul>
<li><p>系统盘软raid监控<br>查看方式： 最新数据 –&gt;  Filesystems –&gt; fsv_系统盘软raid监控    </p>
</li>
<li><p>磁盘健康状态<br>查看方式： 最新数据 –&gt;  iostat –&gt; sdX 磁盘健康状态<br>zabbix自动: smartctl -H /dev/sdX 检查磁盘状态</p>
</li>
<li><p>磁盘读写速率<br>查看方式： 最新数据  –&gt;  iostat<br>磁盘每秒读MB：sdz rMB/s<br>磁盘每秒写MB：sdz wMB/s    </p>
</li>
<li><p>磁盘每秒 IO 数<br>查看方式： 最新数据 –&gt;  iostat –&gt; tps</p>
</li>
<li><p>磁盘使用率<br>查看方式： 最新数据 –&gt;  iostat –&gt; %util</p>
</li>
</ul>
<p>注： 磁盘io还可监控如下，单模板中默认停止，如想监控请 启用。<br>svctm<br>w/s<br>wrqm/s<br>rrqm/s<br>avgrq-sz<br>avgqu-sz<br>await<br>r/s</p>
<ul>
<li>网卡流量监控<br>查看方式： 最新数据  –&gt;  Network interfaces  –&gt;<br>出网卡流量:Outgoing network traffic on ethX<br>进网卡流量:Incoming network traffic on ethX</li>
</ul>
<p>所有网卡（除boundX）总出网卡流量:Outgoing network traffic on all<br>所有网卡（除boundX）总进网卡流量:Incoming network traffic on all</p>
<ul>
<li><p>CORE 文件个数<br>查看方式： 最新数据  –&gt;  OS  –&gt; core 文件数量</p>
</li>
<li><p>时间同步状态<br>开启：模板 Template OS Linux  –&gt;  触发器 –&gt; “时间误差 大于60秒告警，当前是 {ITEM.VALUE}” 后 </p>
</li>
</ul>
<p>和zabbix server 时间误差大于60秒 的会自动报警</p>
<ul>
<li>自动发现主机正在运行服务的tcp侦听端口，然后自动监控所有相关服务状态<br>查看方式： 最新数据  –&gt;  Tcp listen  –&gt; 端口XXX 正在运行</li>
</ul>
<h2 id="各个网元检查"><a href="#各个网元检查" class="headerlink" title="各个网元检查"></a>各个网元检查</h2><h3 id="ss-相关"><a href="#ss-相关" class="headerlink" title="ss 相关"></a>ss 相关</h3><p>查看方式： 最新数据  –&gt;  ss  –&gt;</p>
<p>ss状态：fsv_ss<br>ss在线人数：fsv_ss current_online_sessions<br>ss ha状态：fsv_ss ha status<br>ss直播人数：fsv_ss live_online_sessions<br>ss运行时间：fsv_ss uptime<br>ss直播乱序数量：ss 直播 乱序 监控<br>ss直播断流数量：ss 直播 断流 监控<br>fsv_ss 的 数据盘检查    </p>
<p>注：    如下监控，已经添加但默认被停止，如果需要请启用<br>vod_online_sessions<br>tvod_online_sessions<br>pull_online_sessions<br>tstv_online_sessions<br>current_pem_load<br>current_hem_load<br>current_hls_load</p>
<h2 id="sync同步监控"><a href="#sync同步监控" class="headerlink" title="sync同步监控"></a>sync同步监控</h2><ol>
<li>监控lsyncd</li>
<li>监控rsync</li>
</ol>
<h2 id="cmm主备监控"><a href="#cmm主备监控" class="headerlink" title="cmm主备监控"></a>cmm主备监控</h2><p>查看方式： 最新数据  –&gt;  cmm  –&gt;</p>
<p>##rss 连接数监控<br>   （1）ESTAB 连接数<br>   （2）LAST-ACK 连接数</p>
<p>##aaa 相关<br>查看方式： 最新数据  –&gt;  aaa  –&gt;<br>aaa ping<br>aaa的haproxy监控<br>aaa的keepalived </p>
<p>##epg 主机<br>查看方式： 最新数据  –&gt;  epg  –&gt;</p>
<ol>
<li>epg 运行状态 监控</li>
</ol>
<p>比如：每分钟<br>curl -v “<a href="http://10.23.255.3:6600/epg/index.html" target="_blank" rel="external">http://10.23.255.3:6600/epg/index.html</a>“<br>判断状态码是否为200</p>
<ol>
<li>epg 在线用户数监控</li>
</ol>
<p>##交换机监控<br>交换机运行时间：System uptime<br>交换机名字：Host name<br>交换机硬件信息<br>交换机各接口的  进流量和出流量</p>
<h2 id="mysql监控"><a href="#mysql监控" class="headerlink" title="mysql监控"></a>mysql监控</h2><ol>
<li>mysql主从监控</li>
<li>mysql同步超时监控</li>
<li>其他mysql查询性能监控<br> MySQL version<br> MySQL uptime<br> MySQL update operations per second<br> MySQL status<br> MySQL slow queries<br> MySQL select operations per second<br> MySQL rollback operations per second<br> MySQL queries per second<br> MySQL insert operations per second<br> MySQL delete operations per second<br> MySQL commit operations per second<br> MySQL bytes sent per second<br> MySQL bytes received per second<br> MySQL begin operations per second<br> mysql 当前连接数</li>
</ol>
<p>网元状态监控：</p>
<ol>
<li>aaa 状态那里  添加 aaa.ping[6600]</li>
<li>cms 状态那里  添加 cms.ping[6600]</li>
<li>epg 状态那里  添加 epg.ping[6601]</li>
<li>nginx 状态那里  添加 nginx.ping[81]</li>
<li>oss 状态那里  添加 oss.ping[81]</li>
</ol>
<p>ss core 监控</p>
<p>tcp状态监控：<br>tcp 所有状态6060端口监控<br>tcp 所有状态6600端口监控<br>tcp closed状态 监控<br>tcp established状态 监控<br>tcp fin-wait-1状态 监控<br>tcp fin-wait-2状态 监控<br>tcp last-ack状态 监控<br>tcp syn-recv状态 监控<br>tcp syn-send状态 监控<br>tcp time-wait状态 监控 </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/23/Kubernetes/Kubernetes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/23/Kubernetes/Kubernetes/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-23T10:46:07+08:00">
                2017-05-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/23/Kubernetes/Kubernetes/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/23/Kubernetes/Kubernetes/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="k8s-介绍"><a href="#k8s-介绍" class="headerlink" title="k8s 介绍"></a>k8s 介绍</h2><h1 id="启动一个单节点的集群"><a href="#启动一个单节点的集群" class="headerlink" title="启动一个单节点的集群"></a>启动一个单节点的集群</h1><h2 id="启动etcd集群"><a href="#启动etcd集群" class="headerlink" title="启动etcd集群"></a>启动etcd集群</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">docker run -d --name=etcd \</div><div class="line">    --net=host \</div><div class="line">    gcr.io/google_containers/etcd:2.2.1 \</div><div class="line">    /usr/local/bin/etcd \</div><div class="line">    --listen-client-urls=http://0.0.0.0:4001 \</div><div class="line">    --advertise-client-urls=http://0.0.0.0:4001 \</div><div class="line">    --data-dir=/var/etcd/data</div><div class="line"></div><div class="line">这条命令，启动一个 单节点etcd集群 侦听4001端口</div><div class="line">--net=host 意思是这个容器 共享同一个网络名字叫host</div><div class="line">生产环境上，推荐你启动三个节点的etcd集群 保证可用性</div></pre></td></tr></table></figure>
<h2 id="API-server"><a href="#API-server" class="headerlink" title="API server"></a>API server</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Kubernetes 是一段组件的联合统称，hyperkube运行你运行多个组件，第一个组件就是API server</div><div class="line">docker run -d --name=api \</div><div class="line">    --net=host --pid=host --privileged=true \</div><div class="line">    gcr.io/google_containers/hyperkube:v1.2.2 \</div><div class="line">    /hyperkube apiserver \</div><div class="line">    --insecure-bind-address=0.0.0.0 \</div><div class="line">    --service-cluster-ip-range=10.0.0.1/24 \</div><div class="line">    --etcd_servers=http://127.0.0.1:4001</div></pre></td></tr></table></figure>
<h2 id="Master"><a href="#Master" class="headerlink" title="Master"></a>Master</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">docker run -d --name=kubs \</div><div class="line">  --volume=/:/rootfs:ro \</div><div class="line">  --volume=/sys:/sys:ro \</div><div class="line">  --volume=/dev:/dev \</div><div class="line">  --volume=/var/lib/docker/:/var/lib/docker:rw \</div><div class="line">  --volume=/var/lib/kubelet/:/var/lib/kubelet:rw \</div><div class="line">  --volume=/var/run:/var/run:rw \</div><div class="line">  --net=host \</div><div class="line">  --pid=host \</div><div class="line">  --privileged=true \</div><div class="line">  gcr.io/google_containers/hyperkube:v1.2.2 \</div><div class="line">  /hyperkube kubelet \</div><div class="line">  --containerized \</div><div class="line">  --hostname-override=&quot;0.0.0.0&quot; \</div><div class="line">  --address=&quot;0.0.0.0&quot; \</div><div class="line">  --cluster_dns=10.0.0.10 --cluster_domain=cluster.local \</div><div class="line">  --api-servers=http://localhost:8080 \</div><div class="line">  --config=/etc/kubernetes/manifests-multi</div></pre></td></tr></table></figure>
<p>Master 是集群的控制单元，这个master 管理调度一个新的容器在哪个节点运行<br>其中 控制管理处理复制  调度服务 追踪资源的使用</p>
<h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">docker run -d --name=proxy\</div><div class="line">    --net=host \</div><div class="line">    --privileged \</div><div class="line">    gcr.io/google_containers/hyperkube:v1.2.2 \</div><div class="line">    /hyperkube proxy \</div><div class="line">    --master=http://0.0.0.0:8080 --v=2</div><div class="line">任何节点对集群的请求都会通过代理服务来转发，它处理负载均衡和两个容器之间的通信</div></pre></td></tr></table></figure>
<h2 id="Kubectl"><a href="#Kubectl" class="headerlink" title="Kubectl"></a>Kubectl</h2><p>Kubectl是个命令行客户端来和Master进行通信。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">curl -o ~/.bin/kubectl http://storage.googleapis.com/kubernetes-release/release/v1.2.2/bin/linux/amd64/kubectl</div><div class="line">chmod u+x ~/.bin/kubectl</div><div class="line"></div><div class="line">使用这个客户端，要定义一个环境变量</div><div class="line"></div><div class="line"></div><div class="line">export KUBERNETES_MASTER=http://host01:8080</div></pre></td></tr></table></figure>
<h2 id="KubeDNS-SkyDNS"><a href="#KubeDNS-SkyDNS" class="headerlink" title="KubeDNS / SkyDNS"></a>KubeDNS / SkyDNS</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Kubernetes  使用 etc的 它的关系型DNS服务叫做 SkyDNS</div><div class="line">kubectl create -f ~/kube-system.json</div><div class="line">kubectl create -f ~/skydns-rc.yaml</div><div class="line">kubectl create -f ~/skydns-svc.yaml</div><div class="line"></div><div class="line"></div><div class="line">  &gt; cat kube-system.json</div><div class="line">&#123;</div><div class="line">  &quot;kind&quot;: &quot;Namespace&quot;,</div><div class="line">  &quot;apiVersion&quot;: &quot;v1&quot;,</div><div class="line">  &quot;metadata&quot;: &#123;</div><div class="line">    &quot;name&quot;: &quot;kube-system&quot;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Kube-UI"><a href="#Kube-UI" class="headerlink" title="Kube UI"></a>Kube UI</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">使用下面 命令 启动 图形面板</div><div class="line">kubectl create -f ~/dashboard.yaml</div><div class="line"></div><div class="line"></div><div class="line">dashboard.yaml 中内容</div><div class="line"></div><div class="line">kind: List</div><div class="line">apiVersion: v1</div><div class="line">items:</div><div class="line">- kind: ReplicationController</div><div class="line">  apiVersion: v1</div><div class="line">  metadata:</div><div class="line">    labels:</div><div class="line">      app: kubernetes-dashboard</div><div class="line">      version: v1.0.1</div><div class="line">    name: kubernetes-dashboard</div><div class="line">    namespace: kube-system</div><div class="line">  spec:</div><div class="line">    replicas: 1</div><div class="line">    selector:</div><div class="line">      app: kubernetes-dashboard</div><div class="line">    template:</div><div class="line">      metadata:</div><div class="line">        labels:</div><div class="line">          app: kubernetes-dashboard</div><div class="line">      spec:</div><div class="line">        containers:</div><div class="line">        - name: kubernetes-dashboard</div><div class="line">          image: gcr.io/google_containers/kubernetes-dashboard-amd64:v1.0.1</div><div class="line">          imagePullPolicy: Always</div><div class="line">          ports:</div><div class="line">          - containerPort: 9090</div><div class="line">            protocol: TCP</div><div class="line">          args:</div><div class="line">            - --apiserver-host=172.17.0.28:8080</div><div class="line">          livenessProbe:</div><div class="line">            httpGet:</div><div class="line">              path: /</div><div class="line">              port: 9090</div><div class="line">            initialDelaySeconds: 30</div><div class="line">            timeoutSeconds: 30</div><div class="line">- kind: Service</div><div class="line">  apiVersion: v1</div><div class="line">  metadata:</div><div class="line">    labels:</div><div class="line">      app: kubernetes-dashboard</div><div class="line">      kubernetes.io/cluster-service: &quot;true&quot;</div><div class="line">    name: kubernetes-dashboard</div><div class="line">    namespace: kube-system</div><div class="line">  spec:</div><div class="line">    type: NodePort</div><div class="line">    ports:</div><div class="line">    - port: 80</div><div class="line">      targetPort: 9090</div><div class="line">    selector:</div><div class="line">      app: kubernetes-dashboard</div></pre></td></tr></table></figure>
<h2 id="健康检查"><a href="#健康检查" class="headerlink" title="健康检查"></a>健康检查</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">curl http://host01:4001/version</div><div class="line">curl http://host01:8080/version</div><div class="line">export KUBERNETES_MASTER=http://host01:8080</div><div class="line">kubectl cluster-info   查看集群信息</div><div class="line">kubectl get nodes</div><div class="line"></div><div class="line">&gt; cat /home/scrapbook/.bin/launch.sh</div><div class="line">echo &quot;Starting Kubernetes v1.2.2...&quot;</div><div class="line">docker run -d --net=host gcr.io/google_containers/etcd:2.2.1 /usr/local/bin/etcd --list</div><div class="line">en-client-urls=http://0.0.0.0:4001 --advertise-client-urls=http://0.0.0.0:4001 --data-d</div><div class="line">ir=/var/etcd/data</div><div class="line">docker run -d --name=api --net=host --pid=host --privileged=true gcr.io/google_containe</div><div class="line">rs/hyperkube:v1.2.2 /hyperkube apiserver --insecure-bind-address=0.0.0.0 --service-clus</div><div class="line">ter-ip-range=10.0.0.1/24 --etcd_servers=http://127.0.0.1:4001 --v=2</div><div class="line">docker run -d --name=kubs --volume=/:/rootfs:ro --volume=/sys:/sys:ro --volume=/dev:/de</div><div class="line">v --volume=/var/lib/docker/:/var/lib/docker:rw --volume=/var/lib/kubelet/:/var/lib/kube</div><div class="line">let:rw --volume=/var/run:/var/run:rw --net=host --pid=host --privileged=true gcr.io/goo</div><div class="line">gle_containers/hyperkube:v1.2.2 /hyperkube kubelet --allow-privileged=true --containeri</div><div class="line">zed --enable-server --hostname-override=&quot;127.0.0.1&quot; --address=&quot;0.0.0.0&quot; --api-servers=h</div><div class="line">ttp://0.0.0.0:8080 --cluster_dns=10.0.0.10 --cluster_domain=cluster.local --config=/etc</div><div class="line">/kubernetes/manifests-multi</div><div class="line">echo &quot;Downloading Kubectl...&quot;</div><div class="line">curl -o ~/.bin/kubectl http://storage.googleapis.com/kubernetes-release/release/v1.2.2/</div><div class="line">bin/linux/amd64/kubectl</div><div class="line">chmod u+x ~/.bin/kubectl</div><div class="line">export KUBERNETES_MASTER=http://host01:8080</div><div class="line">echo &quot;Waiting for Kubernetes to start...&quot;</div><div class="line">until $(kubectl cluster-info &amp;&gt; /dev/null); do</div><div class="line">  sleep 1</div><div class="line">done</div><div class="line">echo &quot;Starting Kubernetes Proxy...&quot;</div><div class="line">docker run -d --name=proxy --net=host --privileged gcr.io/google_containers/hyperkube:v</div><div class="line">1.2.2 /hyperkube proxy --proxy-mode=userspace --master=http://0.0.0.0:8080 --v=2</div><div class="line">echo &quot;Kubernetes started&quot;</div><div class="line">echo &quot;Starting Kubernetes DNS...&quot;</div><div class="line">kubectl -s http://host01:8080 create -f ~/kube-system.json</div><div class="line">kubectl -s http://host01:8080 create -f ~/skydns-rc.yaml</div><div class="line">kubectl -s http://host01:8080 create -f ~/skydns-svc.yaml</div><div class="line">echo &quot;Starting Kubernetes UI...&quot;</div><div class="line">kubectl -s http://host01:8080 create -f ~/dashboard.yaml</div><div class="line">kubectl -s http://host01:8080 cluster-info</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/23/etcd/etcd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/23/etcd/etcd/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-23T10:02:56+08:00">
                2017-05-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/23/etcd/etcd/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/23/etcd/etcd/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##<br>etcd 下载：<br><a href="http://onayasfq5.bkt.clouddn.com/etcd-v3.2.0-rc.1-linux-amd64.tar.gz" target="_blank" rel="external">http://onayasfq5.bkt.clouddn.com/etcd-v3.2.0-rc.1-linux-amd64.tar.gz</a></p>
<p>etcd启动：<br>./etcd</p>
<p>2017-05-20 14:40:56.139621 I | embed: listening for peers on <a href="http://localhost:2380" target="_blank" rel="external">http://localhost:2380</a><br>2017-05-20 14:40:56.140017 I | embed: listening for client requests on localhost:2379<br>2017-05-20 14:40:56.145280 I | etcdserver: name = default<br>2017-05-20 14:40:56.145334 I | etcdserver: data dir = default.etcd<br>2017-05-20 14:40:56.145358 I | etcdserver: member dir = default.etcd/member<br>2017-05-20 14:40:56.145377 I | etcdserver: heartbeat = 100ms<br>2017-05-20 14:40:56.145395 I | etcdserver: election = 1000ms<br>2017-05-20 14:40:56.145413 I | etcdserver: snapshot count = 100000<br>2017-05-20 14:40:56.145441 I | etcdserver: advertise client URLs = <a href="http://localhost:2379" target="_blank" rel="external">http://localhost:2379</a><br>2017-05-20 14:40:56.145462 I | etcdserver: initial advertise peer URLs = <a href="http://localhost:2380" target="_blank" rel="external">http://localhost:2380</a><br>2017-05-20 14:40:56.145499 I | etcdserver: initial cluster = default=<a href="http://localhost:2380" target="_blank" rel="external">http://localhost:2380</a></p>
<p>可以看到基本信息，比如默认创建的目录default.etcd</p>
<p>安装http客户端：<br>pip install –upgrade pip setuptools<br>pip install httpie</p>
<p>检查查询版本：<br>http <a href="http://127.0.0.1:2379/version" target="_blank" rel="external">http://127.0.0.1:2379/version</a></p>
<p>key的增删改查：</p>
<p>增和改<br>上面这个命令通过 PUT 方法把 /message 设置为 hello, etcd。<br>http PUT <a href="http://127.0.0.1:2379/v2/keys/message" target="_blank" rel="external">http://127.0.0.1:2379/v2/keys/message</a> value==”hello, etcd”</p>
<p>查：<br>http get <a href="http://127.0.0.1:2379/v2/keys/message" target="_blank" rel="external">http://127.0.0.1:2379/v2/keys/message</a></p>
<p>删：<br>http DELETE <a href="http://127.0.0.1:2379/v2/keys/message" target="_blank" rel="external">http://127.0.0.1:2379/v2/keys/message</a></p>
<p>配置方法，三个节点 分别是 infra0=<a href="http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380" target="_blank" rel="external">http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380</a><br>root ➜  ~ etcdctl –version<br>etcdctl version: 3.1.3<br>API version: 2</p>
<p>export ETCDCTL_API=3<br>etcdctl version</p>
<p>$ etcd –name infra0 –initial-advertise-peer-urls <a href="http://172.16.6.58:2380" target="_blank" rel="external">http://172.16.6.58:2380</a> \<br>  –listen-peer-urls <a href="http://172.16.6.58:2380" target="_blank" rel="external">http://172.16.6.58:2380</a> \<br>  –listen-client-urls <a href="http://172.16.6.58:2379,http://127.0.0.1:2379" target="_blank" rel="external">http://172.16.6.58:2379,http://127.0.0.1:2379</a> \<br>  –advertise-client-urls <a href="http://172.16.6.58:2379" target="_blank" rel="external">http://172.16.6.58:2379</a> \<br>  –initial-cluster-token etcd-cluster-1 \<br>  –initial-cluster infra0=<a href="http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380" target="_blank" rel="external">http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380</a> \<br>  –initial-cluster-state new</p>
<p>$ etcd –name infra1 –initial-advertise-peer-urls <a href="http://172.16.199.224:2380" target="_blank" rel="external">http://172.16.199.224:2380</a> \<br>  –listen-peer-urls <a href="http://172.16.199.224:2380" target="_blank" rel="external">http://172.16.199.224:2380</a> \<br>  –listen-client-urls <a href="http://172.16.199.224:2379,http://127.0.0.1:2379" target="_blank" rel="external">http://172.16.199.224:2379,http://127.0.0.1:2379</a> \<br>  –advertise-client-urls <a href="http://172.16.199.224:2379" target="_blank" rel="external">http://172.16.199.224:2379</a> \<br>  –initial-cluster-token etcd-cluster-1 \<br>  –initial-cluster infra0=<a href="http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380" target="_blank" rel="external">http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380</a> \<br>  –initial-cluster-state new</p>
<p>$ etcd –name infra2 –initial-advertise-peer-urls <a href="http://172.16.12.41:2380" target="_blank" rel="external">http://172.16.12.41:2380</a> \<br>  –listen-peer-urls <a href="http://172.16.12.41:2380" target="_blank" rel="external">http://172.16.12.41:2380</a> \<br>  –listen-client-urls <a href="http://172.16.12.41:2379,http://127.0.0.1:2379" target="_blank" rel="external">http://172.16.12.41:2379,http://127.0.0.1:2379</a> \<br>  –advertise-client-urls <a href="http://172.16.12.41:2379" target="_blank" rel="external">http://172.16.12.41:2379</a> \<br>  –initial-cluster-token etcd-cluster-1 \<br>  –initial-cluster infra0=<a href="http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380" target="_blank" rel="external">http://172.16.6.58:2380,infra1=http://172.16.199.224:2380,infra2=http://172.16.12.41:2380</a> \<br>  –initial-cluster-state new</p>
<p>$ etcdctl member list<br>2b4fd535115ae11c: name=infra2 peerURLs=<a href="http://172.16.12.41:2380" target="_blank" rel="external">http://172.16.12.41:2380</a> clientURLs=<a href="http://172.16.12.41:2379" target="_blank" rel="external">http://172.16.12.41:2379</a> isLeader=false<br>6e626765ce2d2c33: name=infra1 peerURLs=<a href="http://172.16.199.224:2380" target="_blank" rel="external">http://172.16.199.224:2380</a> clientURLs=<a href="http://172.16.199.224:2379" target="_blank" rel="external">http://172.16.199.224:2379</a> isLeader=false<br>db1fc1144eff6ac6: name=infra0 peerURLs=<a href="http://172.16.6.58:2380" target="_blank" rel="external">http://172.16.6.58:2380</a> clientURLs=<a href="http://172.16.6.58:2379" target="_blank" rel="external">http://172.16.6.58:2379</a> isLeader=true</p>
<p>集群节点删除：<br>$etcdctl member remove infra1 <a href="http://172.16.199.224:2380" target="_blank" rel="external">http://172.16.199.224:2380</a></p>
<p>集群节点添加:<br>$etcdctl member add infra1 <a href="http://172.16.199.224:2380" target="_blank" rel="external">http://172.16.199.224:2380</a><br>Added member named infra1 with ID 1a507103ca1c349c to cluster</p>
<p>ETCD_NAME=”infra1”<br>ETCD_INITIAL_CLUSTER=”infra1=<a href="http://172.16.199.224:2380,infra2=http://172.16.12.41:2380,infra0=http://172.16.6.58:2380" target="_blank" rel="external">http://172.16.199.224:2380,infra2=http://172.16.12.41:2380,infra0=http://172.16.6.58:2380</a>“<br>ETCD_INITIAL_CLUSTER_STATE=”existing”</p>
<p>添加后,把配置文件删除后，重新启动进程</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/23/fedora/fedora/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/23/fedora/fedora/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-23T09:58:50+08:00">
                2017-05-23
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/23/fedora/fedora/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/23/fedora/fedora/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="fedora-简单环境安装"><a href="#fedora-简单环境安装" class="headerlink" title="fedora 简单环境安装"></a>fedora 简单环境安装</h1><p>fedora 中文社区软件源  <a href="http://copr-be.cloud.fdzh.org/" target="_blank" rel="external">http://copr-be.cloud.fdzh.org/</a></p>
<p><a href="https://github.com/FZUG/repo/wiki/Sogou-Pinyin-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" target="_blank" rel="external">https://github.com/FZUG/repo/wiki/Sogou-Pinyin-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98</a></p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><ul>
<li>查看 有哪些目录<br>smbclient -U monkey -L 172.16.200.250</li>
</ul>
<p>Sharename       Type      Comment</p>
<hr>
<p>IPC$            IPC       IPC Service ()<br>home            Disk      Home<br>Upload          Disk<br>Release         Disk<br>wiki            Disk<br>KS              Disk<br>Restrict        Disk<br>Media           Disk      媒体资源库<br>Public          Disk      System default share</p>
<ul>
<li>挂载<br>sudo mount.cifs //172.16.200.250/Upload /home/monkey/it-fs/Upload -o domain=fonsview.com,username=monkey,password=123.coM</li>
</ul>
<p>sudo mount.cifs //172.16.200.250/Release /home/monkey/it-fs/Release -o domain=fonsview.com,username=monkey,password=123.coM<br>sudo mount.cifs //172.16.200.250/Public /home/monkey/it-fs/Public -o domain=fonsview.com,username=monkey,password=123.coM</p>
<ul>
<li>plank 小巧好用的dock<br>dnf install plank</li>
</ul>
<ul>
<li>安装google  chrome</li>
</ul>
<p><a href="http://orion.lcg.ufrj.br/RPMS/myrpms/google/" target="_blank" rel="external">http://orion.lcg.ufrj.br/RPMS/myrpms/google/</a><br>注：fedora24 和 chrome 54.0.2840.100-1.x86_64.rpm 不兼容</p>
<ul>
<li><p>安装xx-net 翻墙<br>安装fedora中国 源之后<br>dnf install xx-net</p>
</li>
<li><p>系统升级<br>sudo dnf upgrade –refresh<br>sudo dnf install dnf-plugin-system-upgrade<br>sudo dnf system-upgrade download –refresh –releasever=25 –allowerasing –best –nogpgcheck</p>
<h2 id="请加上–nogpgcheck-否则可以会因为某些key没有安装-出现无法安装"><a href="#请加上–nogpgcheck-否则可以会因为某些key没有安装-出现无法安装" class="headerlink" title="请加上–nogpgcheck 否则可以会因为某些key没有安装 出现无法安装"></a>请加上–nogpgcheck 否则可以会因为某些key没有安装 出现无法安装</h2></li>
</ul>
<p>sudo dnf system-upgrade reboot</p>
<ul>
<li>升级后key会变，在下面网站 找寻对应的key替换</li>
</ul>
<p><a href="https://getfedora.org/keys/" target="_blank" rel="external">https://getfedora.org/keys/</a></p>
<p>比如fedora25：<br>$rpm –import PUBKEY <a href="https://getfedora.org/static/FDB19C98.txt" target="_blank" rel="external">https://getfedora.org/static/FDB19C98.txt</a></p>
<ul>
<li><p>安装dock<br><a href="https://extensions.gnome.org/extension/307/dash-to-dock/" target="_blank" rel="external">https://extensions.gnome.org/extension/307/dash-to-dock/</a></p>
</li>
<li><p>open terminal in current folder in fedora?</p>
<ul>
<li>Open Terminal and type sudo yum install nautilus-open-terminal</li>
<li>Log Off and log on</li>
<li>Now, in any folder, if you right click you will have the option Open in Terminal, which opens the terminal in the current directory.</li>
</ul>
</li>
<li><p>在终端中打开 目录<br>  $ nautilus .</p>
</li>
</ul>
<ul>
<li>添加 更新软件源  安装 mpv 播放器<br>rpm -Uvh <a href="http://mirrors.aliyun.com/rpmfusion/free/fedora/rpmfusion-free-release-25.noarch.rpm" target="_blank" rel="external">http://mirrors.aliyun.com/rpmfusion/free/fedora/rpmfusion-free-release-25.noarch.rpm</a><br>rpm -Uvh <a href="http://mirrors.aliyun.com/rpmfusion/nonfree/fedora/rpmfusion-nonfree-release-25.noarch.rpm" target="_blank" rel="external">http://mirrors.aliyun.com/rpmfusion/nonfree/fedora/rpmfusion-nonfree-release-25.noarch.rpm</a></li>
</ul>
<p>yum install mpv</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/22/prometheus/prometheus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/22/prometheus/prometheus/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-22T14:24:21+08:00">
                2017-05-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/22/prometheus/prometheus/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/22/prometheus/prometheus/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="prometheus-数据库使用"><a href="#prometheus-数据库使用" class="headerlink" title="prometheus 数据库使用"></a>prometheus 数据库使用</h2><p>vi /prometheus.yml<br>global:<br>  scrape_interval:     15s<br>  evaluation_interval: 15s</p>
<p>scrape_configs:</p>
<ul>
<li><p>job_name: ‘prometheus’</p>
<p>static_configs:</p>
<ul>
<li>targets: [‘localhost:9090’, ‘localhost:9100’]<br>labels:<br>  group: ‘prometheus’</li>
</ul>
</li>
</ul>
<p>启动一个数据库<br>mkdir -p /prometheus/data<br>docker run -d –net=host \<br>    -v /prometheus.yml:/etc/prometheus/prometheus.yml \<br>    -v /prometheus/data:/prometheus \<br>    –name prometheus-server \<br>    prom/prometheus</p>
<ul>
<li>导出数据<br>docker run -d -p 9100:9100 \<br>-v “/proc:/host/proc” \<br>-v “/sys:/host/sys” \<br>-v “/:/rootfs” \<br>–net=”host” \<br>–name=promethus \<br>quay.io/prometheus/node-exporter:v0.13.0 \<br>  -collector.procfs /host/proc \<br>  -collector.sysfs /host/sys \<br>  -collector.filesystem.ignored-mount-points “^/(sys|proc|dev|host|etc)($|/)”</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/22/etcd/etcdansible/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/22/etcd/etcdansible/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-22T14:24:21+08:00">
                2017-05-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/22/etcd/etcdansible/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/22/etcd/etcdansible/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用 etcd 做为 ansible inventory 数据源<br>发表于2015 年 9 月 23 日<br>etcd 文档</p>
<p><a href="https://coreos.com/etcd/docs/0.4.7/etcd-api/" target="_blank" rel="external">https://coreos.com/etcd/docs/0.4.7/etcd-api/</a><br><a href="https://github.com/oreh/simpletcd" target="_blank" rel="external">https://github.com/oreh/simpletcd</a></p>
<p>结构</p>
<p>hostvars/12.34.56.78/redis_maxmemory =&gt; 4GB<br>hostvars/12.34.56.78/hostname =&gt; abc.jpuyy.com</p>
<p>输出</p>
<p>[abc.jpuyy.com]<br>12.34.56.78</p>
<p>对应的变量是 redis_maxmemory = 4GB</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/22/docker/容器连接/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/22/docker/容器连接/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-22T14:24:21+08:00">
                2017-05-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/22/docker/容器连接/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/22/docker/容器连接/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>容器链接</p>
<p><a href="https://www.oschina.net/translate/dockerlinks" target="_blank" rel="external">参考</a></p>
<p>Links运行container之间发现彼此并且彼此间安全的通讯。使用 –link可以创建一个link. 让我们创建一个运行数据库的container。</p>
<p>$ sudo docker run -d –name db training/postgres<br>这里我们基于 training/postgres image创建了一个叫做 db 的container, 上面提供PostgreSQL 数据库服务.</p>
<p>现在让我们创建一个叫做 web的container， 并且把他和 db container连接到一起。</p>
<p>$ sudo docker run -d -P –name web –link db:db training/webapp python app.py<br>这个命令会吧 db 和 web 连接到一起 –link 的用法：</p>
<p>–link name:alias<br>这里 name 是我们要连接的container的名字， alias 是一link的别名. 下面我们会看到如何使用这个 别名.</p>
<p>下面让我们用 docker ps 看看被连接到一起的container们。</p>
<p>$ docker ps<br>CONTAINER ID  IMAGE                     COMMAND               CREATED             STATUS             PORTS                    NAMES<br>349169744e49  training/postgres:latest  su postgres -c ‘/usr  About a minute ago  Up About a minute  5432/tcp                 db<br>aed84ee21bde  training/webapp:latest    python app.py         16 hours ago        Up 2 minutes       0.0.0.0:49154-&gt;5000/tcp  db/web,web<br>这里我们可以看到我们创建的两个分别叫 db 和 web 的container, 注意 web container 在name列里还显示了另外一个名字db/web。 这个名字告诉我们 web container 被连接到了 db container， 并且建立了一种父子关系。</p>
<p>linking到底有什么用呢？我们已经看到了link在两个container间创建了一个 父子 关系. 父container 这个例子里的 db 可以得到他的子container web上的信息. Docker是通过在 两个container建立了一个安全通道来实现的, 这样container就不用对外暴露端口了. 你可能已经注意到了 我们在启动 db container的时候没有使用 -p 或者 -P。 因为我们已经吧两个container通过 link连接起来了， 所以没必要通过端口暴露数据库的服务了.</p>
<p>Docker通过下述两种方法吧子container里的信息暴露给父container:</p>
<p>环境变量</p>
<p>更新 /etc/host 文件</p>
<p>我们先看下docker设定的环境变量。 在 web containre里， 让我们运行 env 命令 列出所有的环境变量。</p>
<p>root@aed84ee21bde:/opt/webapp# env<br>HOSTNAME=aed84ee21bde<br>. . .<br>DB_NAME=/web/db<br>DB_PORT=tcp://172.17.0.5:5432<br>DB_PORT_5000_TCP=tcp://172.17.0.5:5432<br>DB_PORT_5000_TCP_PROTO=tcp<br>DB_PORT_5000_TCP_PORT=5432<br>DB_PORT_5000_TCP_ADDR=172.17.0.5<br>. . .<br>注: 这些环境变量只是为第一个在container里的进程设置的。 类似的守护进程(例如 sshd) 会在新建子shell的时候抹除这些变量。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/22/docker/other/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/22/docker/other/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-22T14:24:21+08:00">
                2017-05-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/22/docker/other/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/22/docker/other/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="容器的真实路径"><a href="#容器的真实路径" class="headerlink" title="容器的真实路径"></a>容器的真实路径</h2><p>/var/lib/docker/containers/02e3a9c7ea1195171f59a8fc0893323aeecdad8db1a96b49b79952a1fc857d46/</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://www.rhel.cc/2017/05/22/docker/docker中的日志处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="kikiyou">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Monkey">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/22/docker/docker中的日志处理/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-22T14:24:21+08:00">
                2017-05-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/05/22/docker/docker中的日志处理/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/05/22/docker/docker中的日志处理/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>docker中的日志处理<br><a href="https://segmentfault.com/a/1190000009102612" target="_blank" rel="external">使用ELK处理Docker日志(一)</a><br><a href="https://segmentfault.com/a/1190000009118076" target="_blank" rel="external">使用ELK处理Docker日志(二)</a></li>
</ol>
<p><a href="https://segmentfault.com/a/1190000007693996" target="_blank" rel="external">如何在 Rancher 中统一管理容器日志</a><br>可以参考学习使用，rsyslog 直接输出json到elasticsearch中</p>
<p><a href="http://188533.blog.51cto.com/178533/1716985" target="_blank" rel="external">rsyslog通过自定义json格式发送日志信息给logstash</a></p>
<p>docker日志处理三种方法：<br>docker  –&gt; rsyslog  –&gt; kafaka –&gt; logstash –&gt; elasticsearch<br>docker  –&gt; rsyslog  –&gt; filebeat  –&gt; elasticsearch<br>docker  –&gt; filebeat  –&gt; elasticsearch</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7xw819.com1.z0.glb.clouddn.com/RH_CertifiedArchitect_RGB.svg"
               alt="kikiyou" />
          <p class="site-author-name" itemprop="name">kikiyou</p>
           
              <p class="site-description motion-element" itemprop="description">越努力越幸运</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">204</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">20</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yewang15215" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.quora.com/profile/King-Yip-3" target="_blank" title="Quora">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Quora
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/wutongyip" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  知乎
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.douban.com/people/yewang15215/" target="_blank" title="豆瓣">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  豆瓣
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.guokr.com/i/0121652172/" target="_blank" title="果壳">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  果壳
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/hellokingyip" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  Facebook
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/KingYip15215" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/kingyip15215" target="_blank" title="新浪微博">
                  
                    <i class="fa fa-fw fa-globe"></i>
                  
                  新浪微博
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              Links
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="https://github.com/sindresorhus/awesome" title="Awesome" target="_blank">Awesome</a>
                </li>
              
            </ul>
          </div>
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">kikiyou</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"liveandlearn"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  
















  





  

  

  

  

  

</body>
</html>
